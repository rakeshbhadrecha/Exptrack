<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Expense Tracker</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background: #f4f4f9; }
    h1 { color: #333; }
    input, button { padding: 8px; margin: 5px; }
    .card { background: white; padding: 15px; margin: 10px 0; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    .expense { display: flex; justify-content: space-between; }
  </style>
</head>
<body>
  <h1>üí∞ Expense Tracker</h1>

  <div class="card">
    <label>Monthly Salary: </label>
    <input type="number" id="salaryInput" placeholder="Enter salary">
    <button onclick="setSalary()">Set</button>
  </div>

  <div class="card">
    <h3>Add Expense</h3>
    <input type="number" id="amountInput" placeholder="Amount">
    <input type="text" id="noteInput" placeholder="Note">
    <button onclick="addExpense()">Add</button>
  </div>

  <div class="card">
    <h2>Balance: <span id="balance">0</span></h2>
    <h3>Expenses:</h3>
    <ul id="expenseList"></ul>
  </div>

  <script>
    let salary = localStorage.getItem("salary") ? parseFloat(localStorage.getItem("salary")) : 0;
    let expenses = localStorage.getItem("expenses") ? JSON.parse(localStorage.getItem("expenses")) : [];

    function setSalary() {
      const val = document.getElementById("salaryInput").value;
      if (val) {
        salary = parseFloat(val);
        localStorage.setItem("salary", salary);
        updateUI();
      }
    }

    function addExpense() {
      const amount = parseFloat(document.getElementById("amountInput").value);
      const note = document.getElementById("noteInput").value;

      if (!isNaN(amount) && note) {
        expenses.push({ amount, note });
        localStorage.setItem("expenses", JSON.stringify(expenses));
        document.getElementById("amountInput").value = "";
        document.getElementById("noteInput").value = "";
        updateUI();
      }
    }

    function updateUI() {
      let totalExpense = expenses.reduce((acc, e) => acc + e.amount, 0);
      let balance = salary - totalExpense;

      document.getElementById("balance").innerText = balance;

      let list = document.getElementById("expenseList");
      list.innerHTML = "";
      expenses.forEach((e, i) => {
        let li = document.createElement("li");
        li.className = "expense";
        li.innerHTML = `${e.amount} - ${e.note} <button onclick="deleteExpense(${i})">‚ùå</button>`;
        list.appendChild(li);
      });
    }

    function deleteExpense(index) {
      expenses.splice(index, 1);
      localStorage.setItem("expenses", JSON.stringify(expenses));
      updateUI();
    }

    // Init UI on load
    updateUI();
  </script>
</body>
</html>
